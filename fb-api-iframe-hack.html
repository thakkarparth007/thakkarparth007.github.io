<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
</head>
<body>
	<div id="fb-root"></div>
	<script>
		function getParameterByName(name) {
			name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
			var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
				results = regex.exec(location.search);
			return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
		}
		window.fbAsyncInit = function () {
			// init the FB JS SDK
			FB.init({
				appId:getParameterByName('appId'), // App ID from the App Dashboard
				status:getParameterByName('status') == "true", // check the login status upon init?
				cookie:getParameterByName('cookie') == "true", // set sessions cookies to allow your server to access the session?
				xfbml:getParameterByName('xfbml') == "true" // parse XFBML tags on this page?
			});
			// notify the parent about the initialization
			parent.postMessage({ event: 'fb-iframe-hack:init' });

			window.addEventListener('message', function(e) {
				if(e.origin != getParameterByName('url'));

				// add a callback to the arguments list
				e.data.args.push(function() {
					parent.postMessage({
						event: 'fb-iframe-hack:response',
						callid: e.data.callid,
						cbArgs: Array.slice.prototype.apply(arguments))
					});
				});
				FB[e.data.fn].apply(FB, e.data.args);
			});

		// Load the SDK's source Asynchronously
		// Note that the debug version is being actively developed and might
		// contain some type checks that are overly strict.
		// Please report such bugs using the bugs tool.
		(function (d, debug) {
			var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
			if (d.getElementById(id)) {
				return;
			}
			js = d.createElement('script');
			js.id = id;
			js.async = true;
			js.src = "https://connect.facebook.net/en_US/all" + (debug ? "/debug" : "") + ".js";
			ref.parentNode.insertBefore(js, ref);
		}(document, /*debug*/ true));
</script>
</body>
</html>